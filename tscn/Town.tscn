[gd_scene load_steps=28 format=3 uid="uid://b7y4cme4an3kb"]

[ext_resource type="PackedScene" uid="uid://dv7wem6ftpvdd" path="res://tscn/Player.tscn" id="1_2feps"]
[ext_resource type="Script" uid="uid://0ofb5xeer5m6" path="res://scripts/Town.gd" id="1_o31te"]
[ext_resource type="TileSet" uid="uid://bqs5ruk6pejpc" path="res://tiles/GroundTileset.tres" id="2_ib40g"]
[ext_resource type="Texture2D" uid="uid://bq8o1e8mbe7qm" path="res://art/door.PNG" id="2_mua0x"]
[ext_resource type="Script" uid="uid://csqfi4j0hvvnt" path="res://scripts/TownToFarm.gd" id="2_o31te"]
[ext_resource type="PackedScene" uid="uid://ci8kga43aovsx" path="res://ui/DayNightOverlay.tscn" id="6_6scx0"]
[ext_resource type="PackedScene" uid="uid://d1qqa5bygrbsp" path="res://ui/HUD.tscn" id="7_xf6b5"]
[ext_resource type="PackedScene" uid="uid://dtrn2d385g5ul" path="res://ui/InventoryUI.tscn" id="8_va2fq"]
[ext_resource type="PackedScene" uid="uid://68vtjhtvdbhw" path="res://ui/ShippingUI.tscn" id="8_vr3p6"]
[ext_resource type="PackedScene" uid="uid://ded2abuo15uwh" path="res://ui/DialogueUI.tscn" id="9_xf6b5"]
[ext_resource type="PackedScene" uid="uid://bfaurdf2mucr2" path="res://tscn/NPC.tscn" id="10_va2fq"]
[ext_resource type="PackedScene" uid="uid://dk1aaefcs7nwf" path="res://ui/QuestBoardUI.tscn" id="12_15yes"]
[ext_resource type="PackedScene" uid="uid://dexrjrr1c8jfb" path="res://ui/ShopUI.tscn" id="12_j34sm"]
[ext_resource type="PackedScene" uid="uid://b0fhots3ucty8" path="res://tscn/TownBoard.tscn" id="14_j34sm"]
[ext_resource type="PackedScene" uid="uid://db3fa8eurisd7" path="res://tscn/FireflyLayer.tscn" id="15_j34sm"]
[ext_resource type="PackedScene" uid="uid://c5tput53xrui" path="res://ui/RainOverlay.tscn" id="16_vlptm"]
[ext_resource type="Script" uid="uid://bb5hy4eh3yd3h" path="res://scripts/TownAudio.gd" id="17_ewds8"]
[ext_resource type="AudioStream" uid="uid://d28bo8p77va8y" path="res://audio/ambience/amb_farm_wind.WAV" id="17_wi8o3"]
[ext_resource type="AudioStream" uid="uid://c0vxwp7d85xq8" path="res://audio/ambience/life/sfx_bird_01.WAV" id="18_jlwy3"]
[ext_resource type="AudioStream" uid="uid://dby2jcrvk4ssy" path="res://audio/ambience/life/sfx_bird_02.WAV" id="19_m0mrq"]
[ext_resource type="AudioStream" uid="uid://b4kphj6d0xlxg" path="res://audio/ambience/life/sfx_bird_03.WAV" id="20_fgqwr"]
[ext_resource type="AudioStream" uid="uid://cvxhlbrm7hew0" path="res://audio/ambience/life/sfx_leaves_01.WAV" id="21_seor3"]
[ext_resource type="AudioStream" uid="uid://bd7fsofv05h57" path="res://audio/ambience/life/sfx_leaves_02.WAV" id="22_4f1xo"]
[ext_resource type="AudioStream" uid="uid://ddtmvpbosnor5" path="res://audio/ambience/life/sfx_murmur_01.WAV" id="23_ewvrf"]
[ext_resource type="AudioStream" uid="uid://co4coq6x4nty5" path="res://audio/ambience/life/sfx_murmur_02.WAV" id="24_caym6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ib40g"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_j34sm"]
vertices = PackedVector2Array(27.78125, 234.96875, 24.21875, 72, 77.09375, 72, 78.09375, 179.15625, 397.07813, 234.02344, 225.27344, 176.84375, 223.27344, 101.89844, 336, 100.90625, 398.90625, 15.0234375, 336, 49.28125, 18.773438, 15.96875, 18.21875, 40.28125)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5), PackedInt32Array(5, 6, 7, 4), PackedInt32Array(8, 4, 7, 9), PackedInt32Array(10, 8, 9, 11)])
outlines = Array[PackedVector2Array]([PackedVector2Array(9, 6, 409, 5, 407, 244, 18, 245, 14, 62, 87, 62, 88, 169, 215, 167, 213, 92, 326, 91, 326, 59, 8, 50)])

[node name="Town" type="Node2D" groups=["world"]]
script = ExtResource("1_o31te")

[node name="Ground" type="TileMap" parent="." groups=["footstep_ground"]]
position = Vector2(1, 0)
tile_set = ExtResource("2_ib40g")
format = 2
layer_0/tile_data = PackedInt32Array(6, 196608, 0, 65542, 196608, 0, 131078, 196608, 0, 196614, 196608, 0, 262150, 196608, 0, 327686, 196608, 0, 393222, 196608, 0, 458758, 196608, 0, 524294, 196608, 0, 589830, 196608, 0, 589831, 196608, 0, 589832, 196608, 0, 589833, 196608, 0, 589834, 196608, 0, 589835, 196608, 0, 589836, 196608, 0, 524300, 196608, 0, 458764, 196608, 0, 393228, 196608, 0, 327692, 196608, 0, 262156, 196608, 0, 196620, 196608, 0, 131084, 196608, 0, 65548, 196608, 0, 12, 196608, 0, 11, 196608, 0, 10, 196608, 0, 65546, 196608, 0, 65547, 196608, 0, 131083, 196608, 0, 196619, 196608, 0, 262155, 196608, 0, 327691, 196608, 0, 393227, 196608, 0, 458763, 196608, 0, 524299, 196608, 0, 524298, 196608, 0, 524297, 196608, 0, 524296, 196608, 0, 524295, 196608, 0, 458760, 196608, 0, 458761, 196608, 0, 458762, 196608, 0, 458759, 196608, 0, 393223, 196608, 0, 393224, 196608, 0, 393225, 196608, 0, 393226, 196608, 0, 327690, 196608, 0, 327689, 196608, 0, 327688, 196608, 0, 327687, 196608, 0, 262154, 196608, 0, 262153, 196608, 0, 262152, 196608, 0, 262151, 196608, 0, 196616, 196608, 0, 196617, 196608, 0, 196618, 196608, 0, 131081, 196608, 0, 131080, 196608, 0, 131079, 196608, 0, 196615, 196608, 0, 65544, 196608, 0, 65545, 196608, 0, 8, 196608, 0, 9, 196608, 0, 131082, 196608, 0, 65543, 196608, 0, 7, 196608, 0, 589829, 0, 0, 524293, 0, 0, 458757, 0, 0, 393221, 0, 0, 327685, 0, 0, 262149, 0, 0, 196613, 0, 0, 131077, 0, 0, 65541, 0, 0, 5, 0, 0, 4, 0, 0, 3, 0, 0, 2, 0, 0, 1, 0, 0, 0, 0, 0, 65536, 0, 0, 131072, 0, 0, 196608, 0, 0, 262144, 0, 0, 327680, 0, 0, 393216, 0, 0, 458752, 0, 0, 524288, 0, 0, 589824, 0, 0, 589825, 0, 0, 589826, 0, 0, 589827, 0, 0, 589828, 0, 0, 524292, 0, 0, 458756, 0, 0, 393220, 0, 0, 327684, 0, 0, 262148, 0, 0, 196612, 0, 0, 131076, 0, 0, 65540, 0, 0, 65539, 0, 0, 65538, 0, 0, 65537, 0, 0, 131073, 0, 0, 196609, 0, 0, 262145, 0, 0, 327681, 0, 0, 393217, 0, 0, 458753, 0, 0, 524289, 0, 0, 524290, 0, 0, 524291, 0, 0, 393219, 0, 0, 327683, 0, 0, 262147, 0, 0, 196611, 0, 0, 131075, 0, 0, 131074, 0, 0, 196610, 0, 0, 262146, 0, 0, 458755, 0, 0, 393218, 0, 0, 327682, 0, 0, 458754, 0, 0)

[node name="ExitToFarm" type="Area2D" parent="."]
position = Vector2(48, 64)
script = ExtResource("2_o31te")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ExitToFarm"]
shape = SubResource("RectangleShape2D_ib40g")

[node name="Sprite2D" type="Sprite2D" parent="ExitToFarm"]
position = Vector2(-1, 0)
texture = ExtResource("2_mua0x")

[node name="Spawn_FromFarm" type="Marker2D" parent="."]
position = Vector2(44, 93)

[node name="Player" parent="." instance=ExtResource("1_2feps")]
position = Vector2(90, 33)

[node name="DayNightOverlay" parent="." instance=ExtResource("6_6scx0")]

[node name="HUD" parent="." instance=ExtResource("7_xf6b5")]

[node name="ShippingUI" parent="." instance=ExtResource("8_vr3p6")]

[node name="InventoryUI" parent="." instance=ExtResource("8_va2fq")]

[node name="DialogueUI" parent="." groups=["dialogue_ui"] instance=ExtResource("9_xf6b5")]

[node name="QuestBoardUI" parent="." instance=ExtResource("12_15yes")]

[node name="ShopUI" parent="." instance=ExtResource("12_j34sm")]

[node name="Alex" parent="." instance=ExtResource("10_va2fq")]
position = Vector2(236, 137)
npc_id = "npc_alex"
display_name = "Alex"
dialogue_lines = Array[String](["Hey, what's up?", "Welcome to the town!", "I hope you enjoy your stay!"])
morning_dialogue_lines = Array[String](["Morning! Beautiful day we have!"])
evening_dialogue_lines = Array[String](["Whew, what a long day..."])
night_dialogue_lines = Array[String](["*gasp* I th-think I heard something over there!"])
overhead_greeting_lines = Array[String](["Hey there!"])
overhead_idle_lines = Array[String](["Football stuff"])
morning_overhead_lines = Array[String](["Birds chirping..."])
day_overhead_lines = Array[String](["THE SUN!"])
evening_overhead_lines = Array[String](["Oof..."])
night_overhead_lines = Array[String](["Zzz..."])

[node name="TownBoard" parent="." instance=ExtResource("14_j34sm")]
position = Vector2(270, 42)

[node name="Lia" parent="." instance=ExtResource("10_va2fq")]
position = Vector2(116, 193)
npc_id = "npc_lia"
display_name = "Lia"
dialogue_lines = Array[String](["Have you ever stopped to smell the watermelon?", "They have the scent of a summer breeze and morning dew.", "S-Sorry, who are you?"])
overhead_greeting_lines = Array[String](["Hello!"])
overhead_idle_lines = Array[String](["Watermelons..."])
quest_id = "lia_watermelon_help"
quest_title = "Watermelon Woes"
quest_type = "ship"
quest_target = "Watermelon"
quest_reward_money = 20
quest_reward_items = Dictionary[String, int]({
"Watermelon": 1
})
quest_request_lines = Array[String](["Hey, I’ve been craving a watermelon. Could you ship me one?"])
quest_in_progress_lines = Array[String](["Still waiting on that watermelon! No rush, but I’d really appreciate it."])
quest_completed_lines = Array[String](["You shipped the watermelon! Thank you! Here, have one for yourself."])
quest_after_thanks_lines = Array[String](["That watermelon was delicious. Thanks again for helping me out!"])

[node name="Pierre" parent="." instance=ExtResource("10_va2fq")]
position = Vector2(349, 58)
npc_id = "npc_pierre"
display_name = "Pierre"
overhead_greeting_lines = Array[String](["Welcome to my shop!"])
opens_shop = true
shop_title = "General Store"
morning_spot_path = NodePath("../NPCSpots/Shopkeeper_MorningSpot")
day_spot_path = NodePath("../NPCSpots/Shopkeeper_DaySpot")
evening_spot_path = NodePath("../NPCSpots/Shopkeeper_EveningSpot")
night_spot_path = NodePath("../NPCSpots/Shopkeeper_NightSpot")

[node name="FireflyLayer" parent="." groups=["firefly_layer"] instance=ExtResource("15_j34sm")]
position = Vector2(-97, -35)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_j34sm")

[node name="RainOverlay" parent="." instance=ExtResource("16_vlptm")]

[node name="CameraBounds" type="Node2D" parent="."]
position = Vector2(175, 32)

[node name="TopLeft" type="Marker2D" parent="CameraBounds"]
position = Vector2(-593, -373)

[node name="BottomRight" type="Marker2D" parent="CameraBounds"]
position = Vector2(1598, 972)

[node name="NPCSpots" type="Node2D" parent="."]

[node name="Shopkeeper_MorningSpot" type="Marker2D" parent="NPCSpots"]
position = Vector2(175, 32)

[node name="Shopkeeper_DaySpot" type="Marker2D" parent="NPCSpots"]
position = Vector2(355, 51)

[node name="Shopkeeper_EveningSpot" type="Marker2D" parent="NPCSpots"]
position = Vector2(282, 135)

[node name="Shopkeeper_NightSpot" type="Marker2D" parent="NPCSpots"]
position = Vector2(51, 129)

[node name="TownAmbience2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("17_wi8o3")
autoplay = true
bus = &"Ambience"

[node name="TownLife2D" type="AudioStreamPlayer2D" parent="."]
volume_db = 24.0
bus = &"Ambience"

[node name="TownLifeTimer" type="Timer" parent="."]
one_shot = true

[node name="TownAudio" type="Node2D" parent="." groups=["town_audio"]]
script = ExtResource("17_ewds8")
ambience_path = NodePath("../TownAmbience2D")
life_path = NodePath("../TownLife2D")
life_timer_path = NodePath("../TownLifeTimer")
town_birds = Array[AudioStream]([ExtResource("18_jlwy3"), ExtResource("19_m0mrq"), ExtResource("20_fgqwr")])
town_leaves = Array[AudioStream]([ExtResource("21_seor3"), ExtResource("22_4f1xo")])
town_murmurs = Array[AudioStream]([ExtResource("23_ewvrf"), ExtResource("24_caym6")])
